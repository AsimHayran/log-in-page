import React, { useState } from 'react';
import { Search } from 'lucide-react';
const genderOptions = [
  '', 'Non-binary', 'Genderqueer', 'Genderfluid', 
  'Agender', 'Bigender', 'Two-Spirit', 'Transgender', 
  'Gender Non-conforming', 'Prefer not to say',
  'Cisgender', 'Androgynous', 'Demiboy', 'Demigirl',
  'Pangender', 'Trigender', 'Neutrois', 'Autigender',
  'Maverique', 'Polygender', 'Feminine', 'Masculine', 
  'Intergender', 'Genderflux', 'Intersex', 'Walmart bag',
  'Eldergender', 'Aliengender', 'Cosmicgender', 'Moonfluid', 
  'Starbender', 'Cloudgender', 'Aquagender', 'Firegender',
  'Earthgender', 'Solargender', 'Lunagender', 'Timegender', 
  'Lightgender', 'Darkgender', 'Hypergender', 'Archgender',
  'Binaryflux', 'Xenogender', 'Quantumgender', 'Mythgender',
  'Pastgender', 'Futurgender', 'Echogender', 'Spacegender',
  'Heartgender', 'Soulgender', 'Veggender', 'Animalgender',
  'Plantgender', 'Machinegender', 'Robotgender', 'Fantasygender',
  'Dreamgender', 'Techgender', 'Chaosgender', 'Logicgender',
  'Gravitationalgender', 'Relativitygender', 'Stardustgender',
  'Lifegender', 'Deathgender', 'Unidentifiedgender', 'Nebulagender',
  'Timelessgender', 'Symbiogender', 'Fractalgender', 'Bubblygenders',
  'Glitchgender', 'Polygenderflux', 'Wanderlustgender', 'Hologender',
  'Mysterygender', 'Butterflygender', 'Rainbowgender', 'Snowgender',
  'Candlegender', 'Sunsetgender', 'Sunrisegender', 'Whispergender',
  'Dreamweaver', 'Fireflygender', 'Pixelgender', 'Infinitygender',
  'Horizongender', 'Magicgender', 'Starlightgender', 'Virtualgender',
  'Antigender', 'Cybergender', 'Freakgender', 'Windgender', 'Mirrorgender',
  'Pixelatedgender', 'Butterflyeffectgender', 'Frostgender', 'Echoingender',
  'Vortexgender', 'Ripplegender', 'Vibegender', 'Unicorngender', 
  'Phoenixgender', 'Avatargender', 'Cometgender', 'Cascadegender',
  'Galaxygender', 'Fungigender', 'Shapeshiftergender', 'Serenitygender',
  'Chameleongender', 'Lighthousegender', 'Aquariusgender', 'Liongender',
  'Tigergender', 'Mysticgender', 'Gothgender', 'Rainbowfluid', 'Moongender',
  'Desertgender', 'Tornadogender', 'Puppygender', 'Kittygender', 'Giraffegender',
  'Sharkgender', 'Polarbeargender', 'Koalagender', 'Penguingender', 'Dragongender'
];


const LoginForm = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [showGenderList, setShowGenderList] = useState(false);
  const [selectedGender, setSelectedGender] = useState('');
  const [searchQuery, setSearchQuery] = useState('');
  const [showMessage, setShowMessage] = useState(false);
  const [message, setMessage] = useState('');

  const handleSubmit = (e) => {
    e.preventDefault();
    const audio = new Audio('/gunshot.mp3');
    
    if (selectedGender === 'Male' || selectedGender === 'Female') {
      setMessage("There is nothing here. Goodbye.");
    } else {
      audio.play();
      setMessage("YOU CAN'T PASS!");
    }
    setShowMessage(true);
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-[url('/spooky-forest.jpg')] bg-cover bg-center">
      <div 
        className="max-w-md w-full mx-4 p-6 bg-black/80 backdrop-blur-sm rounded-lg shadow-2xl border border-red-800"
        style={{
          backgroundImage: 'url("/cobweb.png")',
          backgroundPosition: 'top right',
          backgroundRepeat: 'no-repeat'
        }}
      >
        <h2 className="text-3xl font-bold mb-6 text-red-600 animate-pulse font-horror">
          Enter If You Dare
        </h2>
        
        {showMessage ? (
          <div className="text-center py-12 animate-bounce">
            <h3 className="text-4xl font-horror text-red-500">{message}</h3>
          </div>
        ) : (
          <form onSubmit={handleSubmit} className="space-y-6">
            <div>
              <label className="block text-red-400 font-medium mb-2">Email</label>
              <input
                type="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                className="w-full p-3 bg-gray-900/90 border-2 border-red-800 rounded text-red-100 placeholder-red-300/50"
                placeholder="Your soul's address..."
              />
            </div>

            <div>
              <label className="block text-red-400 font-medium mb-2">Password</label>
              <input
                type="password"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                className="w-full p-3 bg-gray-900/90 border-2 border-red-800 rounded text-red-100"
                placeholder="Your dark secret..."
              />
            </div>

            <div className="relative">
              <label className="block text-red-400 font-medium mb-2">Choose Wisely</label>
              <div className="flex gap-3">
                <button
                  type="button"
                  onClick={() => setSelectedGender('Male')}
                  className={`px-4 py-3 rounded font-medium transition-all ${
                    selectedGender === 'Male' 
                      ? 'bg-red-700 text-white shadow-red-500/50 shadow-lg' 
                      : 'bg-gray-900 border-2 border-red-800 text-red-400'
                  }`}
                >
                  Male
                </button>
                <button
                  type="button"
                  onClick={() => setSelectedGender('Female')}
                  className={`px-4 py-3 rounded font-medium transition-all ${
                    selectedGender === 'Female'
                      ? 'bg-red-700 text-white shadow-red-500/50 shadow-lg'
                      : 'bg-gray-900 border-2 border-red-800 text-red-400'
                  }`}
                >
                  Female
                </button>
                <button
                  type="button"
                  onClick={() => setShowGenderList(!showGenderList)}
                  className="px-4 py-3 rounded bg-gray-900 border-2 border-red-800 text-red-400 font-medium hover:bg-red-900/50"
                >
                  Other...
                </button>
              </div>

              {showGenderList && (
                <div className="absolute z-10 mt-2 w-full bg-gray-900/95 border-2 border-red-800 rounded shadow-2xl">
                  <div className="p-3 border-b-2 border-red-800 flex items-center gap-2">
                    <Search className="w-5 h-5 text-red-500" />
                    <input
                      type="text"
                      placeholder="Search your fate..."
                      value={searchQuery}
                      onChange={(e) => setSearchQuery(e.target.value)}
                      className="w-full p-2 bg-transparent text-red-400 placeholder-red-400/50 focus:outline-none"
                    />
                  </div>
                  <div className="max-h-48 overflow-y-auto">
                    {genderOptions
                      .filter(g => g.toLowerCase().includes(searchQuery.toLowerCase()))
                      .map((gender) => (
                        <button
                          key={gender}
                          type="button"
                          onClick={() => {
                            setSelectedGender(gender);
                            setShowGenderList(false);
                          }}
                          className="w-full p-3 text-left text-red-400 hover:bg-red-900/30 transition-colors"
                        >
                          {gender}
                        </button>
                      ))}
                  </div>
                </div>
              )}
            </div>

            <button
              type="submit"
              className="w-full bg-red-700 text-white py-4 rounded font-bold text-lg hover:bg-red-800 transition-colors animate-pulse"
            >
              PROCEED AT YOUR OWN RISK
            </button>
          </form>
        )}
      </div>
    </div>
  );
};

export default LoginForm;